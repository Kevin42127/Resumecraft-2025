# ResumeCraft Docker éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—å°‡å¹«åŠ©ä½ ä½¿ç”¨ Docker éƒ¨ç½² ResumeCraft å°ˆæ¡ˆã€‚

## ğŸ“‹ å‰ç½®éœ€æ±‚

- Docker Desktop (Windows/Mac) æˆ– Docker Engine (Linux)
- Docker Compose
- è‡³å°‘ 2GB å¯ç”¨è¨˜æ†¶é«”

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. ç’°å¢ƒé…ç½®

è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹æ–‡ä»¶ï¼š
```bash
cp env.example .env
```

ç·¨è¼¯ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„é…ç½®ï¼š
```env
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
NEXT_PUBLIC_CSHARP_PDF_API=http://localhost:5000/generate-pdf
```

### 2. éƒ¨ç½²æ–¹å¼

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨éƒ¨ç½²è…³æœ¬ï¼ˆæ¨è–¦ï¼‰

**Linux/Mac:**
```bash
chmod +x deploy.sh
./deploy.sh prod
```

**Windows:**
```cmd
deploy.bat prod
```

#### æ–¹å¼äºŒï¼šæ‰‹å‹•éƒ¨ç½²

```bash
# å»ºæ§‹æ˜ åƒ
docker-compose build

# å•Ÿå‹•æœå‹™
docker-compose up -d

# æª¢æŸ¥ç‹€æ…‹
docker-compose ps
```

## ğŸ“ æ–‡ä»¶èªªæ˜

### æ ¸å¿ƒæ–‡ä»¶

- `Dockerfile` - Docker æ˜ åƒå»ºæ§‹é…ç½®
- `docker-compose.yml` - æœå‹™ç·¨æ’é…ç½®
- `.dockerignore` - Docker å»ºæ§‹å¿½ç•¥æ–‡ä»¶
- `env.example` - ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹

### éƒ¨ç½²è…³æœ¬

- `deploy.sh` - Linux/Mac éƒ¨ç½²è…³æœ¬
- `deploy.bat` - Windows éƒ¨ç½²è…³æœ¬

## ğŸ”§ é…ç½®é¸é …

### ç’°å¢ƒè®Šæ•¸

| è®Šæ•¸å | èªªæ˜ | é è¨­å€¼ |
|--------|------|--------|
| `EMAIL_USER` | éƒµä»¶æœå‹™ç”¨æˆ¶å | - |
| `EMAIL_PASS` | éƒµä»¶æœå‹™å¯†ç¢¼ | - |
| `NEXT_PUBLIC_CSHARP_PDF_API` | PDF ç”Ÿæˆæœå‹™ URL | `http://localhost:5000/generate-pdf` |
| `NODE_ENV` | é‹è¡Œç’°å¢ƒ | `production` |

### ç«¯å£é…ç½®

- ä¸»æ‡‰ç”¨ï¼š`3000`
- PDF æœå‹™ï¼ˆå¯é¸ï¼‰ï¼š`5000`

## ğŸ“Š æœå‹™ç®¡ç†

### æŸ¥çœ‹æœå‹™ç‹€æ…‹
```bash
docker-compose ps
```

### æŸ¥çœ‹æ—¥èªŒ
```bash
docker-compose logs -f resumecraft
```

### é‡å•Ÿæœå‹™
```bash
docker-compose restart resumecraft
```

### åœæ­¢æœå‹™
```bash
docker-compose down
```

### æ¸…ç†ç’°å¢ƒ
```bash
docker-compose down --remove-orphans
docker system prune -f
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **æœå‹™ç„¡æ³•å•Ÿå‹•**
   - æª¢æŸ¥ç«¯å£ 3000 æ˜¯å¦è¢«å ç”¨
   - ç¢ºèªç’°å¢ƒè®Šæ•¸é…ç½®æ­£ç¢º
   - æŸ¥çœ‹å®¹å™¨æ—¥èªŒï¼š`docker-compose logs resumecraft`

2. **PDF ç”Ÿæˆå¤±æ•—**
   - ç¢ºèª Puppeteer ä¾è³´æ­£ç¢ºå®‰è£
   - æª¢æŸ¥ Chromium æ˜¯å¦å¯ç”¨
   - æŸ¥çœ‹ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤

3. **éƒµä»¶ç™¼é€å¤±æ•—**
   - ç¢ºèª EMAIL_USER å’Œ EMAIL_PASS é…ç½®æ­£ç¢º
   - æª¢æŸ¥ Gmail æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼è¨­å®š
   - æ¸¬è©¦éƒµä»¶é…ç½®ï¼šè¨ªå• `/api/test-email`

### å¥åº·æª¢æŸ¥

æœå‹™åŒ…å«å¥åº·æª¢æŸ¥ç«¯é»ï¼š
- å¥åº·ç‹€æ…‹ï¼š`http://localhost:3000/api/email-status`
- æ¸¬è©¦éƒµä»¶ï¼š`http://localhost:3000/api/test-email`

## ğŸ”’ å®‰å…¨å»ºè­°

1. **ç’°å¢ƒè®Šæ•¸å®‰å…¨**
   - ä¸è¦åœ¨ä»£ç¢¼ä¸­ç¡¬ç·¨ç¢¼æ•æ„Ÿä¿¡æ¯
   - ä½¿ç”¨ `.env` æ–‡ä»¶ç®¡ç†ç’°å¢ƒè®Šæ•¸
   - ç¢ºä¿ `.env` æ–‡ä»¶åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­è¢«å¿½ç•¥

2. **å®¹å™¨å®‰å…¨**
   - ä½¿ç”¨é root ç”¨æˆ¶é‹è¡Œæ‡‰ç”¨
   - å®šæœŸæ›´æ–°åŸºç¤æ˜ åƒ
   - é™åˆ¶å®¹å™¨è³‡æºä½¿ç”¨

3. **ç¶²è·¯å®‰å…¨**
   - ä½¿ç”¨ HTTPSï¼ˆç”Ÿç”¢ç’°å¢ƒï¼‰
   - é…ç½®é˜²ç«ç‰†è¦å‰‡
   - é™åˆ¶ä¸å¿…è¦çš„ç«¯å£æš´éœ²

## ğŸ“ˆ æ•ˆèƒ½å„ªåŒ–

### æ˜ åƒå„ªåŒ–
- ä½¿ç”¨å¤šéšæ®µå»ºæ§‹æ¸›å°‘æ˜ åƒå¤§å°
- åˆ©ç”¨ Next.js standalone è¼¸å‡º
- æ’é™¤ä¸å¿…è¦çš„æ–‡ä»¶

### é‹è¡Œæ™‚å„ªåŒ–
- è¨­å®šé©ç•¶çš„è¨˜æ†¶é«”é™åˆ¶
- ä½¿ç”¨å¥åº·æª¢æŸ¥ç›£æ§æœå‹™ç‹€æ…‹
- é…ç½®æ—¥èªŒè¼ªè½‰

## ğŸŒ ç”Ÿç”¢éƒ¨ç½²

### é›²ç«¯å¹³å°éƒ¨ç½²

#### Railway
```bash
# å®‰è£ Railway CLI
npm install -g @railway/cli

# ç™»å…¥ä¸¦éƒ¨ç½²
railway login
railway deploy
```

#### Docker Hub
```bash
# å»ºæ§‹ä¸¦æ¨é€æ˜ åƒ
docker build -t your-username/resumecraft .
docker push your-username/resumecraft
```

### è‡ªå»ºä¼ºæœå™¨

1. ç¢ºä¿ä¼ºæœå™¨å®‰è£ Docker å’Œ Docker Compose
2. ä¸Šå‚³å°ˆæ¡ˆæ–‡ä»¶åˆ°ä¼ºæœå™¨
3. é…ç½®ç’°å¢ƒè®Šæ•¸
4. åŸ·è¡Œéƒ¨ç½²è…³æœ¬

## ğŸ“ ç¶­è­·æŒ‡å—

### å®šæœŸç¶­è­·
- æ›´æ–°ä¾è³´å¥—ä»¶
- æ¸…ç†æœªä½¿ç”¨çš„æ˜ åƒå’Œå®¹å™¨
- ç›£æ§æœå‹™æ—¥èªŒ
- å‚™ä»½æ•¸æ“šæ–‡ä»¶

### æ›´æ–°éƒ¨ç½²
```bash
# æ‹‰å–æœ€æ–°ä»£ç¢¼
git pull

# é‡æ–°å»ºæ§‹ä¸¦éƒ¨ç½²
./deploy.sh prod
```

## ğŸ†˜ æ”¯æ´

å¦‚æœé‡åˆ°å•é¡Œï¼Œè«‹ï¼š
1. æª¢æŸ¥æœ¬æ–‡æª”çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æŸ¥çœ‹æœå‹™æ—¥èªŒ
3. ç¢ºèªç’°å¢ƒé…ç½®
4. è¯ç¹«æŠ€è¡“æ”¯æ´

---

**æ³¨æ„ï¼š** æœ¬éƒ¨ç½²é…ç½®å·²é‡å° ResumeCraft å°ˆæ¡ˆé€²è¡Œå„ªåŒ–ï¼ŒåŒ…å« Puppeteer æ”¯æ´å’Œæ•¸æ“šæŒä¹…åŒ–é…ç½®ã€‚
